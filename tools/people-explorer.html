<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Biblical People Explorer &mdash; 1,832 People from Scripture &mdash; The Unveiled Word</title>
  <meta name="description" content="1,832 people from Scripture with family relationships, tribal affiliations, and verse references. Data from STEPBible.">
  <link rel="stylesheet" href="../css/style.css">
  
</head>
<body>

  <header class="site-header">
    <div class="nav-container">
      <a href="../" class="site-logo">The Unveiled Word</a>
      <button class="nav-toggle" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>
      <ul class="nav-links">
        <li><a href="../studies/">Studies</a></li>
        <li><a href="../interlinear/">Interlinear</a></li>
        <li><a href="../lexicon/">Lexicon</a></li>
        <li><a href="../reference/">Reference</a></li>
        <li><a href="../tools/" class="active">Tools</a></li>
        <li><a href="../search.html">Search</a></li>
      </ul>
    </div>
  </header>

  <div class="book-page">
    <div class="illuminated-border">
      <div class="border-left"></div>
      <div class="border-right"></div>
      <div class="corner-tl"></div>
      <div class="corner-tr"></div>
      <div class="corner-bl"></div>
      <div class="corner-br"></div>

      <main class="page-container page-wide">
        <article class="study-article">
          <header class="study-header">
            <div class="study-category">Tools &bull; People &bull; Database</div>
            <h1 class="study-title">Biblical People Explorer</h1>
            <p class="study-subtitle">1,832 People from Scripture &mdash; Family Trees, Tribes &amp; Verse References</p>
          </header>

          <section class="study-body">

<style>
  .pe-search {
    width: 100%; max-width: 500px; margin: 0 auto 1rem; display: block;
    padding: 0.8rem 1.2rem; border: 2px solid var(--gold-leaf); border-radius: 8px;
    font-size: 1.1rem; background: var(--vellum); color: var(--text-primary); font-family: var(--font-reading);
  }
  .pe-stats { text-align: center; color: var(--text-faded); font-size: 0.95rem; margin-bottom: 1rem; font-family: var(--font-reading); }
  .alpha-nav { display: flex; flex-wrap: wrap; gap: 4px; justify-content: center; margin: 1rem 0; }
  .alpha-btn {
    width: 32px; height: 32px; border: 1px solid var(--gold-leaf); border-radius: 4px;
    background: transparent; color: var(--text-primary); font-weight: 700; cursor: pointer;
    font-size: 0.85rem; display: flex; align-items: center; justify-content: center; font-family: var(--font-heading);
  }
  .alpha-btn:hover, .alpha-btn.active { background: var(--gold-leaf); color: var(--vellum-light); }
  .person-card {
    padding: 1rem 1.2rem; margin-bottom: 0.75rem;
    background: var(--verse-bg); border: 1px solid rgba(197,150,12,0.15);
    border-radius: 8px; cursor: pointer; transition: all 0.2s;
  }
  .person-card:hover { border-color: var(--gold-leaf); }
  .person-card.expanded { background: var(--highlight); }
  .person-name { font-family: var(--font-heading); font-size: 1.1rem; color: var(--leather); display: inline; }
  .person-desc { display: inline; font-size: 0.9rem; color: var(--text-faded); margin-left: 0.5rem; font-family: var(--font-reading); }
  .person-details { display: none; margin-top: 0.8rem; padding-top: 0.8rem; border-top: 1px solid rgba(197,150,12,0.15); }
  .person-card.expanded .person-details { display: block; }
  .detail-row { font-size: 0.9rem; color: var(--text-primary); margin: 0.3rem 0; line-height: 1.6; font-family: var(--font-reading); }
  .detail-label { font-weight: 700; color: var(--leather); }
  .person-summary { font-family: var(--font-reading); font-size: 0.95rem; line-height: 1.7; color: var(--text-primary); margin: 0.5rem 0; }
  .verse-link {
    display: inline-block; margin: 2px 4px 2px 0; padding: 2px 8px;
    background: var(--highlight); border-radius: 4px; font-size: 0.8rem;
    color: var(--link-color); text-decoration: none; font-family: var(--font-reading);
  }
  .verse-link:hover { background: rgba(197,150,12,0.25); }
  .gender-badge {
    display: inline-block; padding: 1px 6px; border-radius: 10px; font-size: 0.7rem;
    font-weight: 700; margin-left: 0.5rem; vertical-align: middle; font-family: var(--font-heading);
  }
  .gender-Male { background: rgba(30,58,122,0.1); color: var(--ultramarine); }
  .gender-Female { background: rgba(196,30,58,0.08); color: var(--vermillion); }
  .pe-showing { text-align: center; color: var(--text-faded); font-size: 0.85rem; margin: 0.5rem 0; font-family: var(--font-reading); }
  #load-more {
    display: none; margin: 1rem auto; padding: 0.6rem 2rem; border: 2px solid var(--gold-leaf);
    border-radius: 6px; background: transparent; color: var(--text-primary); cursor: pointer;
    font-size: 1rem; font-family: var(--font-heading);
  }
  #load-more:hover { background: var(--gold-leaf); color: var(--vellum-light); }
</style>

<input type="text" class="pe-search" id="search" placeholder="Search by name, tribe, or description...">
<div class="pe-stats" id="stats"></div>
<div class="alpha-nav" id="alpha"></div>
<div class="pe-showing" id="showing"></div>
<div id="list"></div>
<button id="load-more">Load More</button>

<p style="font-size:0.8rem;color:var(--text-faded);text-align:center;margin-top:2rem;font-family:var(--font-reading);">
  Data: <a href="https://github.com/STEPBible/STEPBible-Data" style="color:var(--link-color);">STEPBible-Data</a> (CC BY 4.0) &mdash; Tyndale House, Cambridge
</p>

<script>
const OSIS_TO_SITE = {"Gen":"gen","Exod":"exo","Lev":"lev","Num":"num","Deut":"deu","Josh":"jos","Judg":"jdg","Ruth":"rut","1Sam":"1sa","2Sam":"2sa","1Kgs":"1ki","2Kgs":"2ki","1Chr":"1ch","2Chr":"2ch","Ezra":"ezr","Neh":"neh","Esth":"est","Job":"job","Ps":"psa","Prov":"pro","Eccl":"ecc","Song":"sng","Isa":"isa","Jer":"jer","Lam":"lam","Ezek":"ezk","Dan":"dan","Hos":"hos","Joel":"jol","Amos":"amo","Obad":"oba","Jonah":"jon","Mic":"mic","Nah":"nam","Hab":"hab","Zeph":"zep","Hag":"hag","Zech":"zec","Mal":"mal","Matt":"mat","Mark":"mrk","Luke":"luk","John":"jhn","Acts":"act","Rom":"rom","1Cor":"1co","2Cor":"2co","Gal":"gal","Eph":"eph","Phil":"php","Col":"col","1Thess":"1th","2Thess":"2th","1Tim":"1ti","2Tim":"2ti","Titus":"tit","Phlm":"phm","Heb":"heb","Jas":"jas","1Pet":"1pe","2Pet":"2pe","1John":"1jn","2John":"2jn","3John":"3jn","Jude":"jud","Rev":"rev"};
function verseUrl(ref) { const m=ref.match(/^(\d?[A-Za-z]+)\.(\d+)/); if(!m) return null; const b=OSIS_TO_SITE[m[1]]; return b ? "../interlinear/"+b+"-"+m[2]+".html" : null; }
function verseDisplay(ref) { return ref.replace(/\./g," ").replace(/(\d)(\D)/,"$1 $2"); }

let allPeople=[], filtered=[], shown=0; const PAGE=50; let activeLetter=null;

async function init() {
  const resp = await fetch("../data/biblical_people.json");
  const raw = await resp.json();
  allPeople = Object.entries(raw).map(([key,p]) => ({...p, key, displayName: (p.name||key).replace(/_/g," ")})).sort((a,b) => a.displayName.localeCompare(b.displayName));
  document.getElementById("stats").textContent = allPeople.length + " people from Scripture";
  const letters = [...new Set(allPeople.map(p => (p.displayName[0]||"").toUpperCase()))].sort();
  const alphaEl = document.getElementById("alpha");
  letters.forEach(l => {
    const btn = document.createElement("button");
    btn.className = "alpha-btn"; btn.textContent = l;
    btn.onclick = () => { activeLetter = activeLetter===l ? null : l; applyFilter(); };
    alphaEl.appendChild(btn);
  });
  document.getElementById("search").addEventListener("input", () => { activeLetter=null; applyFilter(); });
  document.getElementById("load-more").onclick = loadMore;
  applyFilter();
}

function applyFilter() {
  const q = document.getElementById("search").value.toLowerCase().trim();
  filtered = allPeople;
  if (activeLetter) filtered = filtered.filter(p => (p.displayName[0]||"").toUpperCase()===activeLetter);
  if (q) filtered = filtered.filter(p => (p.displayName+" "+(p.description||"")+" "+(p.tribe||"")+" "+(p.summary||"")).toLowerCase().includes(q));
  document.querySelectorAll(".alpha-btn").forEach(b => b.classList.toggle("active", b.textContent===activeLetter));
  shown = 0; document.getElementById("list").innerHTML = ""; loadMore();
}

function loadMore() {
  const end = Math.min(shown + PAGE, filtered.length);
  const listEl = document.getElementById("list");
  for (let i = shown; i < end; i++) {
    const p = filtered[i];
    const card = document.createElement("div");
    card.className = "person-card"; card.onclick = () => card.classList.toggle("expanded");
    const versesHtml = (p.verses||[]).slice(0,20).map(v => {
      const url = verseUrl(v);
      return url ? '<a class="verse-link" href="'+url+'">'+verseDisplay(v)+'</a>' : '<span class="verse-link">'+verseDisplay(v)+'</span>';
    }).join("") + ((p.verses||[]).length > 20 ? '<span class="verse-link">+' + (p.verses.length-20) + ' more</span>' : "");
    const family = [];
    if (p.partners && p.partners.length) family.push('<span class="detail-label">Spouse:</span> ' + p.partners.join(", "));
    if (p.offspring && p.offspring.length) family.push('<span class="detail-label">Children:</span> ' + p.offspring.join(", "));
    card.innerHTML = '<span class="person-name">' + p.displayName + '</span>' +
      (p.gender ? '<span class="gender-badge gender-' + p.gender + '">' + p.gender + '</span>' : '') +
      '<span class="person-desc">' + (p.description||'') + '</span>' +
      '<div class="person-details">' +
        (p.summary ? '<div class="person-summary">' + p.summary + '</div>' : '') +
        (p.tribe ? '<div class="detail-row"><span class="detail-label">Tribe/Nation:</span> ' + p.tribe + '</div>' : '') +
        family.map(f => '<div class="detail-row">' + f + '</div>').join('') +
        (p.strongs ? '<div class="detail-row"><span class="detail-label">Strong\u2019s:</span> ' + p.strongs + '</div>' : '') +
        (versesHtml ? '<div class="detail-row" style="margin-top:0.5rem">' + versesHtml + '</div>' : '') +
      '</div>';
    listEl.appendChild(card);
  }
  shown = end;
  document.getElementById("showing").textContent = "Showing " + shown + " of " + filtered.length;
  document.getElementById("load-more").style.display = shown < filtered.length ? "block" : "none";
}

if (document.readyState === "loading") document.addEventListener("DOMContentLoaded", init); else init();
</script>

          </section>
        </article>
      </main>
    </div>
  </div>

  <div class="book-spine" aria-hidden="true"></div>

  <footer class="site-footer">
    <p class="footer-scripture">&ldquo;Your word is a lamp to my feet and a light to my path.&rdquo;</p>
    <p class="footer-ref">PSALM 119:105</p>
    <p class="footer-copy">The Unveiled Word &mdash; Soli Deo Gloria</p>
  </footer>

  <script src="../js/main.js"></script>
  <script src="../js/audio-pronunciation.js?v2"></script>
  <script src="../js/bg-music.js?v2"></script>
  
</body>
</html>